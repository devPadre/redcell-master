<!DOCTYPE html>
<html lang="en-us">
<head>
  <meta http-equiv="Content-Type" content="text/html" charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">

  <title>
     |
    Redcell Talent Accelerator
  </title>
  <meta name="author" content="">
  <meta name="description"
        content="Powerful talent accelerator delivering improved ROI to clients through cookie management, environment variables, code generation, and authentication for Mac, Window, and Linux">
  <meta name="generator" content="Hugo 0.34" />
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">



  
  <script type="application/ld+json">
    {
        "@context": "http://schema.org",
        "@type": "WebSite",
        "name": "Redcell Talent Accelerator",
        "url": "https://redcelltalent.com/"
    }


  </script>
  <script type="application/ld+json">
    {
      "@context": "http://schema.org",
      "@type": "Organization",
      "url": "https://redcelltalent.com/",
      "logo": "https://redcelltalent.com/images/icon.png",
      "name": "Redcell Talent Accelerator",
      "sameAs": [
        "https://twitter.com/",
        "https://plus.google.com/+"
      ]
    }



  </script>

  
  
  <meta name="twitter:card" content="summary"/>
  <meta name="twitter:site" content="@"/>
  <meta name="twitter:title" content=""/>
  <meta name="twitter:description"
        content="Demo Blockchain Instructions - Google Cloud Spin up your Google Cloud Compute Instance ```Ubuntu 1604-lts 2 CPU 20GB Compute engine Access your instance SSH “remote access”
## Install Pre-reqs [prerequisits](https://medium.com/google-cloud/deploy-fabcar-on-hyperledger-fabric-93c082c31b7a)  sudo apt-get update sudo apt-get -y upgrade sudo apt-get install python
 ## Install Go go1.9.x [instructions](https://www.samclarke.com/installing-go-1-9-on-ubuntu-16-04/) 355MB  sudo add-apt-repository ppa:gophers/archive
sudo apt update
sudo apt-get install golang-1.9-go
echo &ldquo;export PATH=\$PATH:/usr/lib/go-1.9/bin&rdquo; &gt;&gt; ~/.profile
source ~/.profile
 ## Install node  curl -sL https://deb."/>
  <meta name="twitter:image"
        content="https://redcelltalent.com/images/twitter-card-icon.png"/>
  
  <meta property="og:url" content="https://redcelltalent.com/deploy-cloud-fabric/"/>
  <meta property="og:type" content="article"/>
  <meta property="og:title" content=""/>
  <meta property="og:description"
        content="Demo Blockchain Instructions - Google Cloud Spin up your Google Cloud Compute Instance ```Ubuntu 1604-lts 2 CPU 20GB Compute engine Access your instance SSH “remote access”
## Install Pre-reqs [prerequisits](https://medium.com/google-cloud/deploy-fabcar-on-hyperledger-fabric-93c082c31b7a)  sudo apt-get update sudo apt-get -y upgrade sudo apt-get install python
 ## Install Go go1.9.x [instructions](https://www.samclarke.com/installing-go-1-9-on-ubuntu-16-04/) 355MB  sudo add-apt-repository ppa:gophers/archive
sudo apt update
sudo apt-get install golang-1.9-go
echo &ldquo;export PATH=\$PATH:/usr/lib/go-1.9/bin&rdquo; &gt;&gt; ~/.profile
source ~/.profile
 ## Install node  curl -sL https://deb."/>
  <meta property="og:image" content="https://redcelltalent.com/images/twitter-card-icon.png"/>
  
  

  
<script>
  (function () {
    var disableGA = window.localStorage['disableGA'] ||
      window.location.hostname === 'localhost';

    var s = window.location.search;
    if (s.indexOf('state=') >= 0 && s.indexOf('code=') >= 0) {
      
      disableGA = true;
    }

    if (!disableGA) {
      (function (i, s, o, g, r, a, m) {
        i['GoogleAnalyticsObject'] = r;
        i[r] = i[r] || function () {
            (i[r].q = i[r].q || []).push(arguments)
          }, i[r].l = 1 * new Date();
        a = s.createElement(o),
          m = s.getElementsByTagName(o)[0];
        a.async = 1;
        a.src = g;
        m.parentNode.insertBefore(a, m)
      })(window, document, 'script', 'https://www.google-analytics.com/analytics.js', 'ga');
      ga('create', 'UA-113582687-1', 'auto');
      ga('set', 'transport', 'beacon');
      ga('send', 'pageview');
    } else {
      console.log('-- Google Analytics Disabled for ' + window.location.hostname + ' --');
      window.ga = function () {
        console.log('GA', arguments);
      };
    }
  })();
</script>
<script src="https://embed.small.chat/T94P46AF5G95V232UF.js" async></script>
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">

<script>
  
  if ('serviceWorker' in navigator) {
    
    window.addEventListener('load', () => {
      navigator.serviceWorker.register('/sw.js');
    });
  }
  </script>


  

  
  

  
  <link rel="apple-touch-icon" sizes="180x180" href="https://redcelltalent.com/images/favicon/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="https://redcelltalent.com/images/favicon/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="https://redcelltalent.com/images/favicon/favicon-16x16.png">
  
  <link rel="mask-icon" href="https://redcelltalent.com/images/favicon/safari-pinned-tab.svg" color="#584dbc">
  <link rel="shortcut icon" href="https://redcelltalent.com/images/favicon/favicon.ico">
  <meta name="msapplication-config" content="https://redcelltalent.com/images/favicon/browserconfig.xml">
  <meta name="theme-color" content="#ffffff">

  
  <link rel="manifest" href="https://redcelltalent.com/manifest.json">

  
  <link rel="stylesheet" href="https://redcelltalent.com/css/simple-grid.min.css">
  <link rel="stylesheet" href="https://redcelltalent.com/css/base.css">
  
  <link rel="stylesheet" href="https://redcelltalent.com/css/main.css">
  

</head>

<body class="template-default">

<script src="https://use.fontawesome.com/93839bed07.js" async></script>


<div>
      
<nav class="navbar navbar-fixed-top navbar-expand-lg navbar-light" role="navigation">
  <div class="navbar__container">

        
            
        <a href="https://redcelltalent.com/" class="navbar__icon">
          <img src="/images/icon-small.png" alt="Redcell icon image">
        </a>
        <a href="https://redcelltalent.com/" class="navbar__title">
          <h1></h1>
        </a>

        

          <ul class="navbar__items">
            
            <li data-menu-item="connect">
              
              <a href="/support/">Connect</a>
              
            </li>
            
            <li data-menu-item="blog">
              
              <a href="/blog/">Blog</a>
              
            </li>
            
            <li data-menu-item="blockchain">
              
              <a href="http://blockchain.redcell.ai">Blockchain Demo</a>
              
            </li>
            
            <li data-menu-item="download">
              
              <div>
                <a href="/support/" class="button">Learn More</a>
              </div>
              
            </li>
            
          </ul>
      </div>
        

    </div>
  </div>
</nav>
</div>
<script>
  if (localStorage && localStorage.currentSessionId) {
    document.body.setAttribute('data-logged-in', 'yes');
  } else {
    document.body.setAttribute('data-logged-in', 'no');
  }
</script>


<main role="main">
    <article>
        
        <header class="container header--big">
            <div class="row">
                <div class="col-12">
                    <h1></h1>
                    
                </div>
            </div>
        </header>
        

        <section class="content container">
            <div class="row">
                <div class="col-12">
                    

<h1 id="demo-blockchain-instructions-google-cloud">Demo Blockchain Instructions - Google Cloud</h1>

<h2 id="spin-up-your-google-cloud-compute-instance">Spin up your Google Cloud Compute Instance</h2>

<p>```Ubuntu 1604-lts
2 CPU 20GB
Compute engine
Access your instance
SSH “remote access”</p>

<pre><code>## Install Pre-reqs  
[prerequisits](https://medium.com/google-cloud/deploy-fabcar-on-hyperledger-fabric-93c082c31b7a)

</code></pre>

<p>sudo apt-get update
sudo apt-get -y upgrade
sudo apt-get install python</p>

<pre><code>
## Install Go go1.9.x
[instructions](https://www.samclarke.com/installing-go-1-9-on-ubuntu-16-04/)  355MB
</code></pre>

<p>sudo add-apt-repository ppa:gophers/archive</p>

<p>sudo apt update</p>

<p>sudo apt-get install golang-1.9-go</p>

<p>echo &ldquo;export PATH=\$PATH:/usr/lib/go-1.9/bin&rdquo; &gt;&gt; ~/.profile</p>

<p>source ~/.profile</p>

<pre><code>
## Install node
</code></pre>

<p>curl -sL <a href="https://deb.nodesource.com/setup_8.x">https://deb.nodesource.com/setup_8.x</a> | sudo -E bash -</p>

<p>sudo apt-get install -y nodejs</p>

<p>sudo apt-get install -y build-essential</p>

<p>nodejs -v</p>

<p>npm -v</p>

<pre><code>
## Install docker-ce
[instructions](https://docs.docker.com/install/linux/docker-ce/ubuntu/#extra-steps-for-aufs)
For UBUNTU - you need to remove the older docker.io
</code></pre>

<p>sudo apt-get remove docker docker-engine docker.io</p>

<p>sudo apt-get update</p>

<p>sudo apt-get install <br />
    apt-transport-https <br />
    ca-certificates <br />
    curl <br />
    software-properties-common</p>

<p>curl -fsSL <a href="https://download.docker.com/linux/ubuntu/gpg">https://download.docker.com/linux/ubuntu/gpg</a> | sudo apt-key add -</p>

<p>sudo apt-key fingerprint 0EBFCD88</p>

<p>sudo add-apt-repository <br />
   &ldquo;deb [arch=amd64] <a href="https://download.docker.com/linux/ubuntu">https://download.docker.com/linux/ubuntu</a> <br />
   $(lsb_release -cs) <br />
   stable&rdquo;</p>

<p>sudo apt-get update</p>

<p>sudo apt-get install docker-ce</p>

<p>sudo docker run hello-world</p>

<p>sudo groupadd docker</p>

<p>sudo usermod -aG docker $USER</p>

<p>sudo systemctl enable docker</p>

<p>docker &ndash;version</p>

<p>docker run hello-world</p>

<pre><code>You may need to close the shell and open a new one.

## Install docker-compose
[install](https://docs.docker.com/compose/install/#install-compose)
</code></pre>

<p>sudo curl -L <a href="https://github.com/docker/compose/releases/download/1.19.0/docker-compose-`uname">https://github.com/docker/compose/releases/download/1.19.0/docker-compose-`uname</a> -s<code>-</code>uname -m` -o /usr/local/bin/docker-compose</p>

<p>sudo chmod +x /usr/local/bin/docker-compose</p>

<p>docker-compose &ndash;version</p>

<pre><code>
## Install JQ   
```sudo apt-get install jq```

## npm install gulp
npm install gulp -g

## Install Hyperledger Fabric

Download and install the binaries - make sure they are compatible:
</code></pre>

<p>curl -sSL <a href="https://goo.gl/6wtTN5">https://goo.gl/6wtTN5</a> | bash -s 1.0.0</p>

<pre><code>Alternatively, you can download just the binaries that are necessary:

Hyperledger Fabric is hosted in a docker hub: https://hub.docker.com/u/hyperledger/
Since there are not necessarily “latest” versions, you may want to find the actual latest tags and pull them.
Individually you can pull them like: docker pull hyperledger/fabric-peer:latest
Pull up docker images for required components: (may have to use sudo)

</code></pre>

<p>TAG=x86_64-1.0.6
for IMAGE in orderer couchdb peer ca tools
do
  docker pull hyperledger/fabric-${IMAGE}:${TAG} &amp;&amp; <br />
  docker tag hyperledger/fabric-${IMAGE}:${TAG} hyperledger/fabric-${IMAGE}:latest
done</p>

<p>TAG=x86_64-0.4.6
for IMAGE in baseimage
do
    docker pull hyperledger/fabric-${IMAGE}:$[TAG] &amp;&amp; <br />
    docker tag hyperledger/fabric-${IMAGE}:${TAG}
    hyperledger/fabric-${IMAGE}:latest
done</p>

<pre><code>Individually and for additional requirements:

```docker pull hyperledger/fabric-peer:x86_64-1.0.6
docker pull hyperledger/fabric-ca:x86_64-1.0.6
docker pull hyperledger/fabric-orderer:x86_64-1.0.6
docker pull hyperledger/fabric-couchdb:x86_64-1.0.6
docker pull hyperledger/fabric-baseimage:x86_64-0.4.6
docker pull hyperledger/fabric-tools:x86_64-1.0.6
docker pull hyperledger/fabric-membersrvc:latest
</code></pre>

<p>You will need to tag the images with &ldquo;latest&rdquo; - a sample is below:</p>

<pre><code>docker pull hyperledger/fabric-baseimage:x86_64-0.4.6
docker tag \
hyperledger/fabric-baseimage:x86_64-0.4.6 \
hyperledger/fabric-baseimage:latest
</code></pre>

<p>Add the binaries to your .profile path</p>

<pre><code>export PATH=$PWD/bin:$PATH
</code></pre>

<p>Worryingly, some people seem to believe that the latest tag will be automatically updated — that if I pull an image marked latest, docker will take care of checking it is still the newest version before running it each time. This is emphatically not the case – just as with every other tag, you still need to manually docker pull new versions.</p>

<h2 id="launch-fabric-with-3-peers">Launch Fabric with 3 peers</h2>

<p><a href="https://hyperledger-fabric.readthedocs.io/en/latest/write_first_app.html">https://hyperledger-fabric.readthedocs.io/en/latest/write_first_app.html</a></p>

<p>npm install</p>

<p>./startFabric.sh</p>

<p>mkdir /fabric
cd /fabric
sudo touch docker-compose.yml
sudo nano docker-compose.yml</p>

<pre><code>vp0:
#  container_name: vp0
  image: hyperledger/fabric-peer
  ports:
    - &quot;7050:7050&quot;
    - &quot;7051:7051&quot;
    - &quot;7052:7052&quot;
  environment:
  - CORE_PEER_ADDRESSAUTODETECT=true
  - CORE_VM_ENDPOINT=unix:///var/run/docker.sock
  - CORE_LOGGING_LEVEL=WARN
  - CORE_PEER_ID=vp0
  - CORE_PEER_VALIDATOR_CONSENSUS_PLUGIN=noops
  volumes:
    - /var/run/docker.sock:/var/run/docker.sock
  command: peer node start
vp1:
#  container_name: vp1
  image: hyperledger/fabric-peer
  environment:
  - CORE_PEER_ADDRESSAUTODETECT=true
  - CORE_VM_ENDPOINT=unix:///var/run/docker.sock
  - CORE_LOGGING_LEVEL=WARN
  - CORE_PEER_ID=vp1
  - CORE_PEER_DISCOVERY_ROOTNODE=vp0:7051
  - CORE_PEER_VALIDATOR_CONSENSUS_PLUGIN=noops
  volumes:
    - /var/run/docker.sock:/var/run/docker.sock
  command: peer node start
  links:
  - vp0
vp2:
#  container_name: vp2
  image: hyperledger/fabric-peer
  environment:
  - CORE_PEER_ADDRESSAUTODETECT=true
  - CORE_VM_ENDPOINT=unix:///var/run/docker.sock
  - CORE_LOGGING_LEVEL=WARN
  - CORE_PEER_ID=vp2
  - CORE_PEER_DISCOVERY_ROOTNODE=vp0:7051
  - CORE_PEER_VALIDATOR_CONSENSUS_PLUGIN=noops
  volumes:
    - /var/run/docker.sock:/var/run/docker.sock
  command: peer node start
  links:
  - vp0
</code></pre>

<p>Then get set the network up with docker-compose</p>

<pre><code>docker-compose up

docker ps

</code></pre>

<p>let it run and check the name for vp0  - it may not be simply vp0</p>

<pre><code>curl http://$(docker inspect --format '{{ .NetworkSettings.IPAddress }}' fabric_vp0_1):7050-7052-7050-7052/tcp
</code></pre>

<p>Helpful docker commands</p>

<p>docker stop $(docker ps -a -q)
docker rm $(docker ps -a -q)
 <a href="http://www.competa.com/blog/how-to-run-npm-without-sudo/">If issues with sudo npm</a></p>

<pre><code>sudo apt-get install -y nginx


gcloud compute ssh talent-exchange \
    --project redcell-191816 \
    --zone us-east1-c \
    -- -L 2200:localhost:8080


docker run \
--rm \
--interactive \
--tty \
--publish=3001:3001 \
--net=host \
node /bin/bash
</code></pre>

<p><a href="http://blockchain.infinite-blue.com/wp-content/uploads/Fabric-to-Marbles-Lab-Alex-Kim_revised-0516.pdf">http://blockchain.infinite-blue.com/wp-content/uploads/Fabric-to-Marbles-Lab-Alex-Kim_revised-0516.pdf</a></p>

<h2 id="set-up-apache-web-server">Set up Apache Web server</h2>

<pre><code>sudo apt-get update &amp;&amp; sudo apt-get install apache2 -y

echo '&lt;!doctype html&gt;&lt;html&gt;&lt;body&gt;&lt;h1&gt;Hello World!&lt;/h1&gt;&lt;/body&gt;&lt;/html&gt;' | sudo tee /var/www/html/index.html

sudo iptables -t nat -I PREROUTING -p tcp --dport 80 -j REDIRECT --to-ports 3001
</code></pre>

<p>Utilize the iptables command to point to port 3001  (or whichever port is being served by the app)</p>

<h2 id="iptables">IPTABLES</h2>

<p>One way is to set up an iptables forwarding rule. iptables will then bind to the desired port (80 or 443) and forward all incoming traffic to your application&rsquo;s port, such as 1337.</p>

<p>However, this solution requires that you persist the iptables rule so that it gets executed on system startup, because your machine will crash or reboot eventually.</p>

<p>Redirecting traffic from one port to another
Let&rsquo;s issue the following command to redirect incoming traffic on port 80 to our Node.js app that is listening on port 1337:</p>

<pre><code>sudo iptables -A PREROUTING -t nat -i eth0 -p tcp --dport 80 -j REDIRECT --to-port 1337
</code></pre>

<p>Automatically re-apply the rule on system reboot
Next, go ahead and install iptables-persistent to save the rule permanently and have it reapplied automatically when your system reboots:</p>

<pre><code>sudo apt-get install iptables-persistent
sudo /etc/init.d/iptables-persistent save 
</code></pre>

<p>That&rsquo;s it. Now your Node.js app is accessible on port 80 and you should be good to go.</p>

<p>## Check listening ports</p>

<p>lsof -i -P | grep LISTEN</p>

<p>/root/fabric-samples/fabcar/hfc-key-store/</p>

                </div>
            </div>
        </section>
    </article>
</main>

<footer class="footer">
  
<section class="no-margin padding-bottom-lg padding-top-md">
  <div class="container">
    <div class="row">
      <div class="col-12 center">
        
        <div class="container">
            <h2 class="text-xl"> Transform Your</h2> 
            <div id=flip>
              <div><div>sourcing</div></div>
              <div><div>screening</div></div>        
              <div><div>selection</div></div>
            </div>
          </div>

      </div>
    </div>
    
  </div>



</section>

  <section>
    <p class="footer__menu">
      

      

      

      
      
      
      
      
      <a href="http://blockchain.redcell.ai">Blockchain Demo</a>
      
      <a href="/support/">Contact</a>
      
      <a href="/privacy/">Privacy</a>
      
      <a href="/terms/">Terms</a>
      
      
    </p>
    <p class="text-sm">
      &copy; 2018
      <a href="https://redcelltalent.com" target="_blank">
        Redcell, Pittsburgh, PA
      </a>
    </p>
  </section>
</footer>



<script async src="https://redcelltalent.com/javascript/build/main.min.js"></script>



</body>
</html>
